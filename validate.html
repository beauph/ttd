<html>
  <head>
   <title>Validate Digital Signature</title>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9/core.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9/sha256.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/hmac-sha256.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js"></script>
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    
  </head>
  <body>
    <p>Masukan Code tandatangan digital hasil scan QR code untuk mengecek keaslian tandatngan!</p><br/>
	  <p>Hash : </p><input type="text" id="hash" name="hash"><br/> <br/>    
	  <p>Sandi :</p><input type="text" id="key" name="key"><br/><br/>
    <button onclick="decrypt()">Validate</button><br/>  <br/>  
  

	  <p id="decrypt"></p><br/>

 
  </body>
<script type="text/javascript">  
function decrypt(){
    var hash = document.getElementById('hash').value; 
    var key = document.getElementById('key').value;
	var base64 = CryptoJS.enc.Base64.parse(hash);; // string: 'SGVsbG8gd29ybGQ='
    var decryptedteks = CryptoJS.AES.decrypt(base64, key);
	var words = CryptoJS.enc.Utf8.stringify(decryptedteks); // WordArray object
    let validate;
if (words != '') {
  validate = words;
} else {
  validate = "Digital Signature Invalid!";
}
   document.getElementById("decrypt").innerHTML = words;
}
  </script>
  
</html>
